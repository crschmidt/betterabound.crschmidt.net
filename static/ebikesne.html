    <!DOCTYPE html>
<html>
<head>
    <title>Simple Cart with Donations</title>
    <style>
        #content {
          padding: 5px;
        }
        #item-list label {
            display: block;
            margin-bottom: 10px;
        }

        #item-list img {
            width: 100px; /* Adjust as needed */
            height: auto;
            margin-right: 10px;
            display:none;
        }
        #cart {
        float:right;
        background-color: #ddd;
        border-left: 2px solid black;
        padding: 20px;
        margin: 0px;
        }

        #email-content {
            margin-top: 20px;
        }
                #email-content {
            width: 40%;
            height: 350px;
        }
        body { 
        margin: 0px;
        }
    </style>
</head>
<body>
    <div id="cart">
        <h3>Selected Items:</h3>
        <ul id="selected-items"></ul>
        <h4>Total: $<span id="total">0</span></h4>
        <h4>Included donation to Camberville E-Bike Lending Library: $<span id="donation">0</span></h4>
        <h4>Savings over buying yourself: $<span id="savings">0</span></h4>
    </div>
    <div id="content">
    <h1>Cart Generator</h1>
    <p>A simple tool to help you generate an email template to email to ebikesne@gmail.com to purchase an Aventon Abound.</p>
    <div id="item-list">
        <label><img src="URL_for_Aventon_Abound_image" alt="Aventon Abound"> <input type="checkbox" value="1599" data-donation="50" onchange="updateCart()"> Aventon Abound: $1599</label>
        <label><img src="URL_for_Cafe_Lock_Kit_image" alt="Cafe Lock Kit"> <input type="checkbox" value="125" data-donation="50" onchange="updateCart()" data-savings="26"> Cafe Lock Kit: $125</label>
        <label><img src="URL_for_Front_Rack_and_Milk_Crate_image" alt="Front Rack and Milk Crate"> <input type="checkbox" data-savings="20" value="70" onchange="updateCart()"> Front Rack and Milk Crate: $70</label>
        <!-- Tern Winter Kit and its sub-items -->
        <label><input type="checkbox" id="winterKit" value="0" data-donation="50" onchange="updateWinterKit()"> Tern Winter Kit: $425</label>
        <label>&nbsp;&nbsp;<input type="checkbox" class="winterSubItem" value="50" disabled> Winter Kit Mounting Hardware: $50</label>
<label>&nbsp;&nbsp;<input type="checkbox" class="winterSubItem" value="187.50" onchange="updateSubItems('box')" data-savings="42.50"> Storm Box: $187.50</label>
        <label>&nbsp;&nbsp;<input type="checkbox" class="winterSubItem" value="187.50" onchange="updateSubItems('shield')" data-savings="42.50"> Storm Shield: $187.50</label>

        <label><img src="URL_for_Yepp_Child_Seat_image" alt="Yepp Child Seat"> <input type="checkbox" value="200" onchange="updateCart()" data-savings="30"> Yepp Nexxt Child Seat: $200</label>
    </div>
    <div id="email-template">
        <textarea id="email-content" readonly></textarea>
    </div>
    </div>
    <script>
        function updateCart() {
    var items = document.querySelectorAll('#item-list input[type=checkbox]');
    var selectedItemsList = document.getElementById('selected-items');
    var emailContent = document.getElementById('email-content');
    var total = 0;
    var donation = 0;
    var savings = 0;
    var emailText = "Hello, I would like to purchase an Aventon Abound. I would like to include the following items in my order:\n\n";
    selectedItemsList.innerHTML = '';

    var winterKit = document.getElementById('winterKit').checked;
    var subItemsIncluded = false;

    items.forEach(function(item) {
        if (item.checked) {
            total += parseFloat(item.value);
            var itemDonation = parseFloat(item.getAttribute('data-donation') || 0);
            donation += itemDonation;
            
            var itemSavings = parseFloat(item.getAttribute('data-savings') || 0);
            savings += itemSavings;
            var listItem = document.createElement('li');
            listItem.textContent = item.parentNode.textContent;
            selectedItemsList.appendChild(listItem);

            if (item.classList.contains('winterSubItem') && winterKit) {
                subItemsIncluded = true;
                return;
            }

            emailText += "* " + item.parentNode.textContent.trim() + "\n";
        }
    });

    if (winterKit && !subItemsIncluded) {
        emailText += "* Tern Winter Kit: $425\n";
    }

    emailText += "\nBest Regards,";
    emailContent.value = emailText;

    document.getElementById('total').textContent = total.toFixed(2);
    document.getElementById('donation').textContent = donation.toFixed(2);
    document.getElementById('savings').textContent = savings.toFixed(2);
}
        function updateWinterKit() {
    var winterKit = document.getElementById('winterKit');
    var subItems = document.querySelectorAll('.winterSubItem');
    subItems.forEach(item => item.checked = winterKit.checked);
    updateCart();
}
function updateSubItems(type) {
    var subItems = document.querySelectorAll('.winterSubItem');
    var winterKit = document.getElementById('winterKit');
    var allChecked = true;
    var mounting = document.querySelector('.winterSubItem[value="50"]');

    subItems.forEach(item => {
        if (type !== 'mounting' && !item.checked) {
            allChecked = false;
        }
    });

    winterKit.checked = allChecked;

    // Automatically check the mounting hardware if either sub-item is checked
    mounting.checked = winterKit.checked || subItems[1].checked || subItems[2].checked;

    updateCart();
}
    </script>
</body>
</html>

